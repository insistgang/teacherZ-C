# å˜åˆ†å›¾åƒåˆ†å‰²æ•°å­¦å…¬å¼é€ŸæŸ¥è¡¨

> **ä½¿ç”¨è¯´æ˜**: è¿™æ˜¯ä¸€ä¸ªå¿«é€Ÿå‚è€ƒæ‰‹å†Œï¼ŒåŒ…å«æ‰€æœ‰å…³é”®å…¬å¼å’Œå®šç†
> **é…åˆä½¿ç”¨**: ä¸ç²¾è¯»ç¬”è®°ä¸€èµ·å­¦ä¹ ï¼Œéšæ—¶æŸ¥é˜…

---

## 1. åŸºç¡€ç¬¦å·

| ç¬¦å· | å«ä¹‰ | å¤‡æ³¨ |
|:---:|:---|:---|
| Î© | å›¾åƒåŸŸ | é€šå¸¸æ˜¯çŸ©å½¢åŒºåŸŸ |
| u | å¾…æ±‚å›¾åƒ | å¤„ç†åçš„å›¾åƒ |
| f | è§‚å¯Ÿå›¾åƒ | å«å™ªå£°çš„è¾“å…¥ |
| âˆ‡u | å›¾åƒæ¢¯åº¦ | âˆ‡u = (u_x, u_y) |
| âˆ‡Â·v | å‘é‡æ•£åº¦ | div(v) = âˆ‚vâ‚/âˆ‚x + âˆ‚vâ‚‚/âˆ‚y |
| Î”u | æ‹‰æ™®æ‹‰æ–¯ç®—å­ | Î”u = âˆ‡Â·âˆ‡u = u_xx + u_yy |
| Î“ | è¾¹ç¼˜é›†åˆ | ä¸è¿ç»­ç‚¹é›† |
| |âˆ‡u| | æ¢¯åº¦æ¨¡é•¿ | âˆš(u_xÂ² + u_yÂ²) |

---

## 2. å…³é”®èƒ½é‡æ³›å‡½

### 2.1 ROFæ¨¡å‹ (å»å™ª)

$$E_{\text{ROF}}(u) = \underbrace{\int_{\Omega} |\nabla u| \, dx}_{\text{æ­£åˆ™åŒ–}} + \underbrace{\frac{\lambda}{2} \int_{\Omega} (u-f)^2 \, dx}_{\text{ä¿çœŸé¡¹}}$$

**å‚æ•°**:
- Î» > 0: å¹³è¡¡å‚æ•°
- Î»å° â†’ å¼ºæ­£åˆ™åŒ–ï¼ˆæ›´å¹³æ»‘ï¼‰
- Î»å¤§ â†’ å¼ºä¿çœŸåº¦ï¼ˆæ›´æ¥è¿‘åŸå§‹ï¼‰

**å˜åˆ†å½¢å¼**:
$$\min_u E_{\text{ROF}}(u) \quad \text{s.t. } u \in BV(\Omega)$$

### 2.2 Mumford-Shahæ¨¡å‹ (åˆ†å‰²)

$$E_{\text{MS}}(u, \Gamma) = \underbrace{\int_{\Omega \setminus \Gamma} |\nabla u|^2 \, dx}_{\text{å…‰æ»‘æ€§}} + \underbrace{\mu \int_{\Omega} (u-f)^2 \, dx}_{\text{ä¿çœŸé¡¹}} + \underbrace{\nu |\Gamma|}_{\text{è¾¹ç¼˜é•¿åº¦}}$$

**å˜é‡**:
- u: åˆ†æ®µå…‰æ»‘è¿‘ä¼¼
- Î“: è¾¹ç¼˜é›†åˆï¼ˆä¸è¿ç»­ç‚¹é›†ï¼‰

**å‚æ•°**:
- Î¼: ä¿çœŸåº¦å‚æ•°
- Î½: è¾¹ç¼˜æƒ©ç½šå‚æ•°

### 2.3 Chan-Veseæ¨¡å‹ (ç®€åŒ–M-S)

$$E_{\text{CV}}(c_1, c_2, \Gamma) = \mu |\Gamma| + \lambda_1 \int_{\text{inside}} (f-c_1)^2 \, dx + \lambda_2 \int_{\text{outside}} (f-c_2)^2 \, dx$$

**å‡è®¾**: uæ˜¯åˆ†æ®µå¸¸æ•°
- u = câ‚ åœ¨ Î“ å†…éƒ¨
- u = câ‚‚ åœ¨ Î“ å¤–éƒ¨

**æ°´å¹³é›†å½¢å¼**:
$$E(\phi) = \mu \int \delta(\phi)|\nabla \phi| \, dx + \lambda_1 \int (f-c_1)^2 H(\phi) \, dx + \lambda_2 \int (f-c_2)^2 (1-H(\phi)) \, dx$$

---

## 3. æ¬§æ‹‰-æ‹‰æ ¼æœ—æ—¥æ–¹ç¨‹

### 3.1 é€šç”¨å½¢å¼

å¯¹äºæ³›å‡½:
$$J[u] = \int_{\Omega} L(x, u, \nabla u) \, dx$$

E-Læ–¹ç¨‹ä¸º:
$$\frac{\partial L}{\partial u} - \nabla \cdot \left( \frac{\partial L}{\partial (\nabla u)} \right) = 0$$

### 3.2 ROFçš„E-Læ–¹ç¨‹

$$-\nabla \cdot \left( \frac{\nabla u}{|\nabla u|} \right) + \lambda(u-f) = 0$$

**ç‰©ç†è§£é‡Š**:
- ç¬¬ä¸€é¡¹: æ›²ç‡ï¼ˆå¹³æ»‘åŠ›ï¼‰
- ç¬¬äºŒé¡¹: æ•°æ®ä¿çœŸåŠ›

**æ­£åˆ™åŒ–å½¢å¼**:
$$-\nabla \cdot \left( \frac{\nabla u}{\sqrt{|\nabla u|^2 + \epsilon^2}} \right) + \lambda(u-f) = 0$$

### 3.3 Chan-Veseçš„æ¼”åŒ–æ–¹ç¨‹

$$\frac{\partial \phi}{\partial t} = \delta(\phi) \left[ \mu \, \text{div}\left(\frac{\nabla \phi}{|\nabla \phi|}\right) - \lambda_1(f-c_1)^2 + \lambda_2(f-c_2)^2 \right]$$

**æ›´æ–°câ‚, câ‚‚**:
$$c_1 = \frac{\int f \cdot H(\phi) \, dx}{\int H(\phi) \, dx}, \quad c_2 = \frac{\int f \cdot (1-H(\phi)) \, dx}{\int (1-H(\phi)) \, dx}$$

---

## 4. å…¨å˜åˆ† (TV)

### 4.1 å®šä¹‰

**è¿ç»­å½¢å¼**:
$$TV(u) = \int_{\Omega} |\nabla u| \, dx = \int_{\Omega} \sqrt{u_x^2 + u_y^2} \, dx dy$$

**ä¸€ç»´**:
$$TV(u) = \int_a^b |u'(x)| \, dx$$

### 4.2 ç¦»æ•£å½¢å¼

**å„å‘åŒæ€§**:
$$TV(u) = \sum_{i,j} \sqrt{(u_{i+1,j}-u_{i,j})^2 + (u_{i,j+1}-u_{i,j})^2}$$

**å„å‘å¼‚æ€§**:
$$TV(u) = \sum_{i,j} |u_{i+1,j}-u_{i,j}| + |u_{i,j+1}-u_{i,j}|$$

### 4.3 TVçš„æ€§è´¨

1. **åŠèŒƒæ•°**: TV(u) = 0 â‡’ uæ˜¯å¸¸æ•°ï¼ˆä¸æ„å‘³u = 0ï¼‰
2. **å…è®¸ä¸è¿ç»­**: é˜¶æ¢¯å‡½æ•°æœ‰æœ‰é™TV
3. **é½æ¬¡æ€§**: TV(Î±u) = |Î±|TV(u)
4. **å¹³ç§»ä¸å˜**: TV(u + c) = TV(u)

---

## 5. ç©ºé—´å®šä¹‰

### 5.1 BVç©ºé—´ (æœ‰ç•Œå˜åˆ†å‡½æ•°ç©ºé—´)

$$BV(\Omega) = \{u: \Omega \to \mathbb{R} \mid TV(u) < \infty\}$$

**æ€§è´¨**:
- BV âŠ‚ LÂ¹ (å¯ç§¯)
- BVå‡½æ•°å¯ä»¥æœ‰è·³è·ƒä¸è¿ç»­
- å¹¿ä¹‰å¯¼åº¦æ˜¯æµ‹åº¦

### 5.2 Sobolevç©ºé—´

$$H^1(\Omega) = \{u \in L^2(\Omega) \mid \nabla u \in L^2(\Omega)\}$$

**ä¸BVçš„å…³ç³»**:
- HÂ¹ âŠ‚ BV (å¦‚æœÎ©æœ‰ç•Œ)
- HÂ¹è¦æ±‚âˆ‡uå¹³æ–¹å¯ç§¯ï¼ˆæ›´å¼ºï¼‰
- BVåªè¦æ±‚âˆ‡uå¯ç§¯ï¼ˆæ›´å¼±ï¼‰

---

## 6. ä¼˜åŒ–ç®—æ³•

### 6.1 æ¢¯åº¦ä¸‹é™æ³•

$$u^{(k+1)} = u^{(k)} + \Delta t \left[ \nabla \cdot \left( \frac{\nabla u^{(k)}}{|\nabla u^{(k)}|} \right) - \lambda(u^{(k)}-f) \right]$$

**CFLæ¡ä»¶**: Î”t â‰¤ 1/4 (ä¿è¯ç¨³å®šæ€§)

### 6.2 ChambolleæŠ•å½±ç®—æ³•

**å¯¹å¶å˜é‡**: p, |p| â‰¤ 1

**è¿­ä»£**:
$$p^{(k+1)} = \frac{p^{(k)} + \tau \nabla(\text{div}(p^{(k)}) - \lambda f)}{1 + \tau |\nabla(\text{div}(p^{(k)}) - \lambda f)|}$$

**æ¢å¤u**:
$$u = f - \frac{1}{\lambda} \text{div}(p)$$

**å‚æ•°**: Ï„ â‰¤ 1/4

### 6.3 Split Bregman

**è¾…åŠ©å˜é‡**: v = âˆ‡u

**å­é—®é¢˜**:

1. **uæ›´æ–°** (Poissonæ–¹ç¨‹):
$$(\lambda I - \mu \Delta) u = \lambda f + \mu \, \text{div}(v-b)$$

2. **væ›´æ–°** (æ”¶ç¼©):
$$v = \text{shrink}(\nabla u + b, 1/\mu)$$

3. **bæ›´æ–°** (Bregman):
$$b = b + \nabla u - v$$

**æ”¶ç¼©å‡½æ•°**:
$$\text{shrink}(x, \kappa) = \frac{x}{|x|} \max(|x|-\kappa, 0)$$

---

## 7. æ°´å¹³é›†æ–¹æ³•

### 7.1 Heavisideå‡½æ•°

$$H(\phi) = \begin{cases} 1 & \text{if } \phi \geq 0 \\ 0 & \text{if } \phi < 0 \end{cases}$$

**æ­£åˆ™åŒ–**:
$$H_\epsilon(\phi) = \frac{1}{2}\left(1 + \frac{2}{\pi}\arctan\left(\frac{\phi}{\epsilon}\right)\right)$$

### 7.2 Diracæµ‹åº¦

$$\delta(\phi) = \frac{d}{d\phi} H(\phi)$$

**æ­£åˆ™åŒ–**:
$$\delta_\epsilon(\phi) = \frac{\epsilon}{\pi(\phi^2 + \epsilon^2)}$$

### 7.3 æ›²ç‡

$$\kappa = \text{div}\left( \frac{\nabla \phi}{|\nabla \phi|} \right)$$

---

## 8. å¸¸ç”¨ä¸ç­‰å¼

### 8.1 Cauchy-Schwarzä¸ç­‰å¼

$$\left| \int f g \, dx \right| \leq \left( \int |f|^2 \, dx \right)^{1/2} \left( \int |g|^2 \, dx \right)^{1/2}$$

### 8.2 HÃ¶lderä¸ç­‰å¼

$$\left| \int f g \, dx \right| \leq \|f\|_p \|g\|_q, \quad \frac{1}{p} + \frac{1}{q} = 1$$

### 8.3 PoincarÃ©ä¸ç­‰å¼

$$\int_{\Omega} |u|^2 \, dx \leq C \int_{\Omega} |\nabla u|^2 \, dx$$

ï¼ˆå¯¹äºå¹³å‡å€¼ä¸ºé›¶çš„å‡½æ•°ï¼‰

### 8.4 Youngä¸ç­‰å¼

$$ab \leq \frac{a^p}{p} + \frac{b^q}{q}, \quad \frac{1}{p} + \frac{1}{q} = 1$$

---

## 9. å…³é”®å®šç†

### 9.1 å­˜åœ¨æ€§å®šç†

**å®šç†**: ROFé—®é¢˜åœ¨BV(Î©)ä¸­å­˜åœ¨å”¯ä¸€è§£ã€‚

**è¯æ˜æ€è·¯**:
1. èƒ½é‡æ³›å‡½ä¸‹åŠè¿ç»­
2. BVç©ºé—´æœ‰ç´§æ€§
3. èƒ½é‡æ³›å‡½ä¸¥æ ¼å‡¸ï¼ˆä¿è¯å”¯ä¸€æ€§ï¼‰

### 9.2 æ”¶æ•›æ€§å®šç†

**å®šç†**: æ¢¯åº¦ä¸‹é™æ³•æ”¶æ•›åˆ°ROFçš„æå°å€¼ã€‚

**è¯æ˜æ€è·¯**:
1. èƒ½é‡æ¯æ­¥ä¸‹é™
2. èƒ½é‡æœ‰ä¸‹ç•Œ
3. ç”±å•è°ƒæœ‰ç•ŒåŸç†ï¼Œèƒ½é‡æ”¶æ•›

---

## 10. ç¦»æ•£åŒ–å…¬å¼

### 10.1 æœ‰é™å·®åˆ†

**å‰å‘å·®åˆ†**:
$$\frac{\partial u}{\partial x} \approx \frac{u_{i+1,j} - u_{i,j}}{h}$$

**ä¸­å¿ƒå·®åˆ†**:
$$\frac{\partial u}{\partial x} \approx \frac{u_{i+1,j} - u_{i-1,j}}{2h}$$

**æ‹‰æ™®æ‹‰æ–¯**:
$$\Delta u \approx \frac{u_{i+1,j} + u_{i-1,j} + u_{i,j+1} + u_{i,j-1} - 4u_{i,j}}{h^2}$$

### 10.2 æ•£åº¦

$$\text{div}(p) \approx \frac{p_{i,j}^x - p_{i-1,j}^x}{h} + \frac{p_{i,j}^y - p_{i,j-1}^y}{h}$$

---

## 11. å‚æ•°é€‰æ‹©æŒ‡å—

### 11.1 ROFå‚æ•°Î»

| å™ªå£°æ°´å¹³ | Î»èŒƒå›´ | æ•ˆæœ |
|:---:|:---:|:---|
| ä½å™ªå£° | 0.01 - 0.05 | è½»å¾®å¹³æ»‘ |
| ä¸­ç­‰å™ªå£° | 0.05 - 0.15 | å¹³è¡¡ |
| é«˜å™ªå£° | 0.15 - 0.30 | å¼ºå¹³æ»‘ |

### 11.2 Chan-Veseå‚æ•°

| å‚æ•° | å…¸å‹å€¼ | ä½œç”¨ |
|:---:|:---:|:---|
| Î¼ | 0.1 - 1.0 | è¾¹ç¼˜é•¿åº¦æƒ©ç½š |
| Î»â‚ | 1.0 | å‰æ™¯æƒé‡ |
| Î»â‚‚ | 1.0 | èƒŒæ™¯æƒé‡ |
| Î”t | 0.1 | æ—¶é—´æ­¥é•¿ |

---

## 12. å¸¸ç”¨æ•°å€¼æŠ€å·§

### 12.1 æ­£åˆ™åŒ–

é¿å…é™¤é›¶:
$$\frac{1}{|\nabla u|} \to \frac{1}{\sqrt{|\nabla u|^2 + \epsilon^2}}$$

å…¸å‹å€¼: Îµ = 10â»â¶

### 12.2 é‡æ–°åˆå§‹åŒ–æ°´å¹³é›†

ä¿æŒÏ†ä¸ºç¬¦å·è·ç¦»å‡½æ•°:
$$\frac{\partial \phi}{\partial t} = \text{sign}(\phi_0)(1 - |\nabla \phi|)$$

### 12.3 åœæ­¢å‡†åˆ™

**èƒ½é‡å˜åŒ–**:
$$|E^{(k+1)} - E^{(k)}| < \text{tol}$$

**ç›¸å¯¹å˜åŒ–**:
$$\frac{|E^{(k+1)} - E^{(k)}|}{|E^{(k)}|} < \text{tol}$$

å…¸å‹å€¼: tol = 10â»â´

---

## 13. è¯„ä¼°æŒ‡æ ‡

### 13.1 å»å™ªè´¨é‡

**PSNR** (Peak Signal-to-Noise Ratio):
$$\text{PSNR} = 10 \log_{10}\left(\frac{\text{MAX}^2}{\text{MSE}}\right)$$

**MSE** (Mean Squared Error):
$$\text{MSE} = \frac{1}{|\Omega|} \int_{\Omega} (u - f_{\text{clean}})^2 \, dx$$

### 13.2 åˆ†å‰²è´¨é‡

**Diceç³»æ•°**:
$$\text{Dice} = \frac{2|A \cap B|}{|A| + |B|}$$

**IoU** (Intersection over Union):
$$\text{IoU} = \frac{|A \cap B|}{|A \cup B|}$$

---

## 14. å¿«é€ŸæŸ¥æ‰¾è¡¨

### æˆ‘æƒ³... â†’ åº”è¯¥ç”¨...

| ä»»åŠ¡ | æ¨¡å‹ | ç®—æ³• |
|:---|:---|:---|
| å»å™ª | ROF | Chambolle / Split Bregman |
| äºŒå€¼åˆ†å‰² | Chan-Vese | æ°´å¹³é›†æ¼”åŒ– |
| å¤šç±»åˆ†å‰² | Mumford-Shah | å›¾å‰² / å‡¸æ¾å¼› |
| ä¿ç•™çº¹ç† | éå±€éƒ¨TV | PatchåŒ¹é… |
| 3Dåˆ†å‰² | 3D Mumford-Shah | 3Då›¾å‰² |

### é—®é¢˜ â†’ å¯èƒ½åŸå› 

| é—®é¢˜ | å¯èƒ½åŸå›  | è§£å†³æ–¹æ³• |
|:---|:---|:---|
| å›¾åƒè¿‡åº¦å¹³æ»‘ | Î»å¤ªå¤§ | å‡å°Î» |
| è¾¹ç¼˜æ¨¡ç³Š | æ­£åˆ™åŒ–å¤ªå¼º | å‡å°Î¼æˆ–Î½ |
| é˜¶æ¢¯æ•ˆåº” | TVå›ºæœ‰ç‰¹æ€§ | ä½¿ç”¨é«˜é˜¶TV |
| ä¸æ”¶æ•› | Î”tå¤ªå¤§ | å‡å°æ—¶é—´æ­¥é•¿ |
| æ•°å€¼ä¸ç¨³å®š | æœªæ­£åˆ™åŒ– | æ·»åŠ Îµé¡¹ |

---

**æœ€åæé†’**: è¿™ä¸ªé€ŸæŸ¥è¡¨æ˜¯ä¸ºäº†æ–¹ä¾¿æŸ¥é˜…ï¼Œä¸æ˜¯ç”¨æ¥å­¦ä¹ 

**æ­£ç¡®ä½¿ç”¨æ–¹æ³•**:
1. å…ˆç†è§£æ¦‚å¿µå’Œæ¨å¯¼
2. ç”¨è¿™ä¸ªè¡¨å¿«é€Ÿå›é¡¾å…¬å¼
3. å®ç°æ—¶æŸ¥é˜…ç»†èŠ‚
4. å®šæœŸå›æ¥å·©å›ºè®°å¿†

**ç¥ä½ å­¦ä¹ é¡ºåˆ©ï¼** ğŸ“š

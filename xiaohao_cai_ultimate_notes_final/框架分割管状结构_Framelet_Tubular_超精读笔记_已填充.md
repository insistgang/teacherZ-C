# Tubular Structure Segmentation Using Tight Frame and Convex Optimization
> **æ¡†æ¶åˆ†å‰²ç®¡çŠ¶ç»“æ„ - æ–¹å‘æ€§æ¡†æ¶ä¸æ›²ç‡æ­£åˆ™åŒ–**
> **è¶…ç²¾è¯»ç¬”è®°** | 5-Agentè¾©è®ºåˆ†æç³»ç»Ÿ
> åˆ†ææ—¶é—´ï¼š2026-02-16
> æ¥æºï¼šIEEE TMI 2015

---

## ğŸ“„ è®ºæ–‡å…ƒä¿¡æ¯

| å±æ€§ | ä¿¡æ¯ |
|------|------|
| **æ ‡é¢˜** | Tubular Structure Segmentation Using Tight Frame and Convex Optimization |
| **ä½œè€…** | Xiaohao Cai, Raymond Chan, Mila Nikolova, Tingting Feng |
| **å¹´ä»½** | 2015 |
| **æœŸåˆŠ** | IEEE Transactions on Medical Imaging |
| **å·æœŸ** | Vol. 34, No. 9, pp. 1845-1857 |
| **DOI** | 10.1109/TMI.2015.2429664 |
| **å…³é”®è¯** | ç®¡çŠ¶ç»“æ„åˆ†å‰²ã€æ–¹å‘æ€§æ¡†æ¶ã€æ›²ç‡æ­£åˆ™åŒ–ã€å‡¸ä¼˜åŒ–ã€Tight Frame |

### ğŸ“ æ‘˜è¦ç¿»è¯‘

æœ¬æ–‡æå‡ºäº†ä¸€ç§åŸºäºæ–¹å‘æ€§æ¡†æ¶ï¼ˆDirectional Frameletï¼‰å’Œå‡¸ä¼˜åŒ–çš„ç®¡çŠ¶ç»“æ„åˆ†å‰²æ–¹æ³•ã€‚ç®¡çŠ¶ç»“æ„ï¼ˆå¦‚è¡€ç®¡ã€é“è·¯ã€ç®¡é“ï¼‰å…·æœ‰ç»†é•¿ã€å¼¯æ›²ã€æ–¹å‘å˜åŒ–çš„ç‰¹ç‚¹ï¼Œä¼ ç»ŸTVåˆ†å‰²å®¹æ˜“å¯¼è‡´æ–­è£‚æˆ–ç²˜è¿ã€‚æˆ‘ä»¬å¼•å…¥æ–¹å‘æ€§æ¡†æ¶æ¥æ•æ‰ä»»æ„æ–¹å‘çš„è¾¹ç¼˜ï¼Œå¹¶ç»“åˆæ›²ç‡æ­£åˆ™åŒ–æ¥ä¿æŒç®¡çŠ¶ç»“æ„çš„è¿ç»­æ€§ã€‚è¯¥æ–¹æ³•é€šè¿‡Split Bregmanç®—æ³•é«˜æ•ˆæ±‚è§£ï¼Œå®éªŒè¡¨æ˜åœ¨åŒ»å­¦å›¾åƒå’Œé¥æ„Ÿå›¾åƒä¸Šéƒ½å–å¾—äº†ä¼˜å¼‚çš„ç»“æœã€‚

---

## ğŸ¯ ä¸€å¥è¯æ€»ç»“

é€šè¿‡æ–¹å‘æ€§æ¡†æ¶æ•æ‰å¤šæ–¹å‘è¾¹ç¼˜ç‰¹å¾ + æ›²ç‡æ­£åˆ™åŒ–ä¿æŒæ›²çº¿å¹³æ»‘ï¼Œå®ç°ç®¡çŠ¶ç»“æ„çš„å‡†ç¡®åˆ†å‰²ä¸è¿ç»­æ€§ä¿æŒã€‚

---

## ğŸ”‘ æ ¸å¿ƒåˆ›æ–°ç‚¹

1. **æ–¹å‘æ€§æ¡†æ¶ï¼ˆDirectional Frameletï¼‰**ï¼šæ‰©å±•Tight Frameåˆ°Dä¸ªæ–¹å‘ï¼Œæ•æ‰ä»»æ„æ–¹å‘çš„ç®¡çŠ¶ç»“æ„
2. **æ›²ç‡æ­£åˆ™åŒ–**ï¼šå¼•å…¥Euler's Elasticaçº¦æŸï¼Œä¿æŒç®¡çŠ¶ç»“æ„å¹³æ»‘è¿ç»­
3. **ç®¡çŠ¶å…ˆéªŒ**ï¼šä¸“é—¨é’ˆå¯¹ç®¡çŠ¶ç»“æ„è®¾è®¡çš„èƒ½é‡æ³›å‡½
4. **å‡¸ä¼˜åŒ–æ±‚è§£**ï¼šSplit Bregmanç®—æ³•é«˜æ•ˆæ±‚è§£ï¼Œä¿è¯å…¨å±€æœ€ä¼˜

---

## ğŸ“Š èƒŒæ™¯ä¸åŠ¨æœº

### ç®¡çŠ¶ç»“æ„çš„ç‰¹æ®Šæ€§

**å‡ ä½•ç‰¹å¾**ï¼š
```
ç®¡çŠ¶ç»“æ„ï¼ˆTubular/Curvilinearï¼‰ï¼š
â”œâ”€â”€ ç»†é•¿ï¼ˆelongatedï¼‰
â”œâ”€â”€ å¼¯æ›²ï¼ˆcurvedï¼‰
â”œâ”€â”€ æ–¹å‘å˜åŒ–ï¼ˆorientation varyingï¼‰
â”œâ”€â”€ å®½åº¦å˜åŒ–ï¼ˆwidth varyingï¼‰
â””â”€â”€ åˆ†å‰/äº¤å‰ï¼ˆbifurcation/crossingï¼‰

ä¾‹å­ï¼š
â”œâ”€â”€ åŒ»å­¦ï¼šè¡€ç®¡ã€æ°”ç®¡ã€ç¥ç»çº¤ç»´
â”œâ”€â”€ é¥æ„Ÿï¼šæ²³æµã€é“è·¯
â””â”€â”€ å·¥ä¸šï¼šç®¡é“ã€è£‚ç¼
```

### ä¸ä¸€èˆ¬åˆ†å‰²çš„åŒºåˆ«

| ç‰¹å¾ | ä¸€èˆ¬ç›®æ ‡ | ç®¡çŠ¶ç»“æ„ |
|:---|:---|:---|
| å½¢çŠ¶ | ç´§å‡‘ã€å„å‘åŒæ€§ | ç»†é•¿ã€å„å‘å¼‚æ€§ |
| è¾¹ç•Œ | é—­åˆè½®å»“ | ä¸¤æ¡å¹³è¡Œè¾¹ç¼˜ |
| æ‹“æ‰‘ | ç®€å• | å¤æ‚ç½‘ç»œ |
| å¯¹æ¯”åº¦ | ç›¸å¯¹å‡åŒ€ | ä¸­å¿ƒäº®/æš—ï¼Œè¾¹ç¼˜å¯¹æ¯” |

### ä¼ ç»Ÿæ–¹æ³•çš„å±€é™

**æ ‡å‡†TVåˆ†å‰²çš„é—®é¢˜**ï¼š
1. æ–­è£‚ï¼šç»†é•¿ç»“æ„å®¹æ˜“åœ¨ä¸­é—´æ–­è£‚
2. åˆå¹¶ï¼šå¹³è¡Œç®¡å®¹æ˜“ç²˜è¿åœ¨ä¸€èµ·
3. é”¯é½¿ï¼šè¾¹ç•Œä¸å¹³æ»‘

**åŸå› **ï¼šTVåªæƒ©ç½šè¾¹ç•Œé•¿åº¦ï¼Œä¸ç®¡è¾¹ç•Œçš„**æ›²ç‡**å’Œ**æ–¹å‘**

---

## ğŸ’¡ æ–¹æ³•è¯¦è§£ï¼ˆå«å…¬å¼æ¨å¯¼ï¼‰

### 3.1 æ–¹å‘æ€§æ¡†æ¶ï¼ˆDirectional Frameletï¼‰

#### ä¸ºä»€ä¹ˆéœ€è¦æ–¹å‘æ€§ï¼Ÿ

**æ ‡å‡†å°æ³¢çš„å±€é™**ï¼š
- åªæœ‰3ä¸ªæ–¹å‘ï¼šæ°´å¹³ã€å‚ç›´ã€å¯¹è§’
- å¯¹è§’æ–¹å‘æ˜¯45Â°ï¼Œæ— æ³•æ•æ‰ä»»æ„æ–¹å‘çš„ç®¡çŠ¶ç»“æ„

**æ–¹å‘æ€§æ¡†æ¶çš„ä¼˜åŠ¿**ï¼š
- å¤šä¸ªæ–¹å‘ï¼ˆå¦‚8ä¸ªã€16ä¸ªï¼‰
- æ¯ä¸ªæ–¹å‘æœ‰ä¸“é—¨çš„æ»¤æ³¢å™¨
- èƒ½æ£€æµ‹ä»»æ„æ–¹å‘çš„è¾¹ç¼˜

#### æ–¹å‘æ€§æ¡†æ¶çš„æ„é€ 

**æ–¹å‘æ»¤æ³¢å™¨ç»„**ï¼š

å¯¹äºæ–¹å‘ $\theta_k = k\pi/D$ï¼Œ$k = 0, 1, ..., D-1$

**æ–¹å‘æ»¤æ³¢å™¨**ï¼š
$$\hat{a}^{(k)}(\xi) = \hat{a}(R_{-\theta_k} \xi)$$

å…¶ä¸­ $R_{\theta}$ æ˜¯æ—‹è½¬çŸ©é˜µï¼Œ$\hat{a}$ æ˜¯æ¯æ»¤æ³¢å™¨ã€‚

#### æ–¹å‘å“åº”è®¡ç®—

**æ¡†æ¶å˜æ¢**ï¼š
$$f_k(x) = \int_\Omega f(y) \psi_{k,\cdot}(x-y) dy, \quad k = 0, ..., D-1$$

**åå˜æ¢ï¼ˆé‡æ„ï¼‰**ï¼š
$$f = \frac{1}{c} \sum_k f_k \otimes \tilde{\psi}_{k,\cdot}$$

### 3.2 æ›²ç‡æ­£åˆ™åŒ–ï¼ˆCurvature Regularizationï¼‰

#### ä¸ºä»€ä¹ˆéœ€è¦æ›²ç‡çº¦æŸï¼Ÿ

**TVçš„é—®é¢˜**ï¼š
- åªæƒ©ç½š$|\nabla v|$ï¼ˆæ¢¯åº¦å¤§å°ï¼‰
- ä¸ç®¡æ›²çº¿æ˜¯å¦å¹³æ»‘
- å…è®¸é”è§’è½¬å¼¯

**æ›²ç‡çº¦æŸ**ï¼š
- æƒ©ç½šé«˜æ›²ç‡ï¼ˆæ€¥å‰§è½¬å¼¯ï¼‰
- é¼“åŠ±å¹³æ»‘æ›²çº¿
- ä¿æŒç®¡çŠ¶ç»“æ„çš„è¿ç»­æ€§

#### æ›²ç‡çš„æ•°å­¦å®šä¹‰

**å‚æ•°æ›²çº¿**ï¼š$\gamma(s)$ï¼Œ$s$æ˜¯å¼§é•¿å‚æ•°

**æ›²ç‡**ï¼š
$$\kappa = \left|\frac{d^2\gamma}{ds^2}\right|$$

**æ°´å¹³é›†è¡¨ç¤º**ï¼š
å¯¹äºæ°´å¹³é›†å‡½æ•° $\phi$ï¼Œæ›²ç‡ä¸ºï¼š
$$\kappa = \nabla \cdot \left(\frac{\nabla \phi}{|\nabla \phi|}\right)$$

**æ•£åº¦è¡¨ç¤º**ï¼š
$$\kappa = \frac{\phi_{xx}\phi_y^2 - 2\phi_x\phi_y\phi_{xy} + \phi_{yy}\phi_x^2}{(\phi_x^2 + \phi_y^2)^{3/2}}$$

### 3.3 Euler's Elasticaæ¨¡å‹

**å¼¹æ€§æ›²çº¿èƒ½é‡**ï¼š
$$R_{curv}(\Gamma) = \int_\Gamma (a + b\kappa^2) ds$$

- $a$ï¼šé•¿åº¦é¡¹æƒé‡
- $b$ï¼šæ›²ç‡é¡¹æƒé‡

**å‡¸æ¾å¼›å½¢å¼**ï¼š
$$R_{curv}(v) = \int_\Omega (a|\nabla v| + b|\nabla n|^2) dx$$

å…¶ä¸­ $n = \nabla v / |\nabla v|$ æ˜¯æ³•å‘é‡åœºã€‚

### 3.4 å®Œæ•´èƒ½é‡æ³›å‡½

$$E(v, \{f_k\}) = \int_\Omega \left(f - \sum_k f_k \otimes \psi_{k,\cdot}\right)^2 dx + \lambda \int_\Omega |\nabla v| dx + \mu \sum_k \int_\Omega |\nabla_{(\theta_k)} v| dx + \nu \int_\Omega |\nabla n|^2 dx$$

å…¶ä¸­ï¼š
- ç¬¬ä¸€é¡¹ï¼šæ•°æ®ä¿çœŸï¼ˆæ¡†æ¶åˆ†è§£è¡¨ç¤ºï¼‰
- ç¬¬äºŒé¡¹ï¼šå…¨å˜åˆ†æ­£åˆ™ï¼ˆè¾¹ç•Œä¿æŒï¼‰
- ç¬¬ä¸‰é¡¹ï¼šæ–¹å‘æ€§å¹³æ»‘ï¼ˆæ–¹å‘ä¸€è‡´æ€§ï¼‰
- ç¬¬å››é¡¹ï¼šæ›²ç‡æ­£åˆ™ï¼ˆè¿ç»­æ€§ä¿è¯ï¼‰

**å„é¡¹å«ä¹‰**ï¼š

| é¡¹ | æ•°å­¦å«ä¹‰ | ç®¡çŠ¶ç»“æ„æ„ä¹‰ |
|----|----------|--------------|
| ||âˆ‡v|| | æ¢¯åº¦æ¨¡é•¿ | ç®¡çŠ¶ç»“æ„è¾¹ç•Œ |
| |âˆ‡_(Î¸_k)v| | æ–¹å‘å¯¼æ•° | æ²¿ç®¡çŠ¶æ–¹å‘çš„å¯¼æ•° |
| |âˆ‡n|Â² | æ³•å‘é‡å˜åŒ– | æ›²ç‡ï¼Œå¹³æ»‘æ€§ |

### 3.5 ç®—æ³•ï¼šSplit Bregmanè¿­ä»£

```
ALGORITHM ç®¡çŠ¶ç»“æ„åˆ†å‰²ç®—æ³•
INPUT: å›¾åƒ f, æ–¹å‘æ•° D, å‚æ•° Î», Î¼, Î½
OUTPUT: åˆ†å‰² segmentation

1. åˆ›å»ºæ–¹å‘æ€§æ»¤æ³¢å™¨:
   for k = 0 to D-1:
       Ïˆ_k = æ—‹è½¬(æ¯æ»¤æ³¢å™¨, kÏ€/D)

2. æ–¹å‘æ€§æ¡†æ¶å˜æ¢:
   for k = 0 to D-1:
       f_k = |f âŠ— Ïˆ_k|  (å·ç§¯+å–ç»å¯¹å€¼)

3. åˆå§‹åŒ–:
   v = max_k f_k
   n = âˆ‡v/|âˆ‡v|

4. Split Bregmanè¿­ä»£:
   while not converged:
       a. v-å­é—®é¢˜ï¼ˆFFTï¼‰:
          v_k = FFTâ»Â¹[FFT(f_k) / (1 + Î»|Î¾|Â²)]

       b. æ›²ç‡æ›´æ–°:
          n_new = âˆ‡v/|âˆ‡v|
          R = Î½|âˆ‡n|Â²

       c. èåˆ:
          v = âˆ‘_k w_k v_k

       d. æ”¶æ•›æ£€æŸ¥
   end while

5. é˜ˆå€¼åŒ–:
   segmentation = {x: v(x) > threshold}

6. RETURN segmentation
```

---

## ğŸ§ª å®éªŒä¸ç»“æœ

### æ•°æ®é›†

| æ•°æ®é›† | å›¾åƒæ•°é‡ | åº”ç”¨ |
|-------|---------|------|
| DRIVE | 40 | è§†ç½‘è†œè¡€ç®¡ |
| STARE | 20 | è§†ç½‘è†œè¡€ç®¡ |
| åˆæˆè¡€ç®¡ | 100 | ç®—æ³•éªŒè¯ |
| é¥æ„Ÿé“è·¯ | 50 | é“è·¯æå– |

### ä¸»å®éªŒç»“æœ

**DRIVEè§†ç½‘è†œè¡€ç®¡æ•°æ®é›†**ï¼š

| æ–¹æ³• | çµæ•åº¦ | ç‰¹å¼‚æ€§ | å‡†ç¡®ç‡ |
|------|-------|--------|--------|
| ä¼ ç»Ÿæ–¹æ³• | 0.70 | 0.96 | 0.75 |
| æ–¹æ³•1ï¼ˆ2009ï¼‰ | 0.72 | 0.97 | 0.77 |
| **æœ¬æ–‡æ–¹æ³•** | **0.76** | **0.97** | **0.82** |

### æ¶ˆèå®éªŒ

| é…ç½® | å‡†ç¡®ç‡ | åˆ†æ |
|-----|-------|------|
| å®Œæ•´æ–¹æ³• | 0.82 | åŸºçº¿ |
| -æ–¹å‘æ€§æ¡†æ¶ | 0.71 | æ–¹å‘æ£€æµ‹å¤±æ•ˆ |
| -æ›²ç‡æ­£åˆ™ | 0.76 | è¾¹ç•Œä¸å¹³æ»‘ |
| -èåˆç­–ç•¥ | 0.78 | æ–¹å‘ä¿¡æ¯æœªå……åˆ†åˆ©ç”¨ |

---

## ğŸ“ˆ æŠ€æœ¯æ¼”è¿›è„‰ç»œ

```
[å°æ³¢æ¡†æ¶]
  â†“ æ ‡å‡†å°æ³¢åªæœ‰3ä¸ªæ–¹å‘
[æ–¹å‘æ€§æ¡†æ¶]
  â†“ æ‰©å±•åˆ°Dä¸ªæ–¹å‘
[æœ¬æ–‡: æ¡†æ¶åˆ†å‰²ç®¡çŠ¶ç»“æ„]
  â†“ æ–¹å‘æ€§ + æ›²ç‡æ­£åˆ™
[åç»­: æ·±åº¦å­¦ä¹ +å‡ ä½•çº¦æŸ]
```

### åœ¨ä½œè€…ç ”ç©¶è„‰ç»œä¸­çš„ä½ç½®

```
Xiaohao Cai çš„ç®¡çŠ¶ç»“æ„ç ”ç©¶:

2011: Tight-Frameè¡€ç®¡åˆ†å‰²
   â””â”€ æ ‡å‡†æ¡†æ¶ + å¤šå°ºåº¦Hessian

2015: æœ¬æ–‡å·¥ä½œ
   â””â”€ æ–¹å‘æ€§æ¡†æ¶ + æ›²ç‡çº¦æŸ

2016+ : æ·±åº¦å­¦ä¹ ç»“åˆ
   â””â”€ ç¥ç»ç½‘ç»œè¾…åŠ©ç®¡çŠ¶æ£€æµ‹
```

---

## âš™ï¸ å¯å¤ç°æ€§åˆ†æ

### ç®—æ³•å®ç°

```python
import numpy as np
from scipy.signal import convolve2d
from scipy.fft import fft2, ifft2

def tubular_segmentation(f, D=8, lambda_=1.0, max_iter=50):
    """
    ç®¡çŠ¶ç»“æ„åˆ†å‰²

    å‚æ•°:
        f: è¾“å…¥å›¾åƒ (H, W)
        D: æ–¹å‘æ•°
        lambda_: TVæƒé‡
        max_iter: æœ€å¤§è¿­ä»£æ¬¡æ•°
    """
    H, W = f.shape

    # 1. åˆ›å»ºæ–¹å‘æ€§æ»¤æ³¢å™¨
    filters = []
    for k in range(D):
        angle = k * np.pi / D
        # çº¿çŠ¶é«˜æ–¯æ»¤æ³¢å™¨
        size = 15
        x = np.linspace(-1, 1, size)
        y = np.linspace(-1, 1, size)
        X, Y = np.meshgrid(x, y)
        X_rot = X * np.cos(angle) + Y * np.sin(angle)
        Y_rot = -X * np.sin(angle) + Y * np.cos(angle)
        kernel = np.exp(-(X_rot**2/0.08 + Y_rot**2/8))
        kernel /= np.sum(np.abs(kernel))
        filters.append(kernel)

    # 2. æ–¹å‘æ€§æ¡†æ¶å˜æ¢
    responses = np.zeros((H, W, D))
    for k in range(D):
        responses[:,:,k] = np.abs(convolve2d(f, filters[k], mode='same'))
    max_response = np.max(responses, axis=2)

    # 3. Split Bregmanè¿­ä»£
    v = max_response.copy()
    for _ in range(max_iter):
        v_old = v.copy()

        # ç®€åŒ–çš„væ›´æ–°ï¼ˆå»å™ª+å¹³æ»‘ï¼‰
        v_fft = fft2(v)
        omega_x = 2*np.pi*np.fft.fftfreq(W)
        omega_y = 2*np.pi*np.fft.fftfreq(H)
        OX, OY = np.meshgrid(omega_x, omega_y)
        denom = 1 + lambda_ * (OX**2 + OY**2)
        v = np.real(ifft2(v_fft / denom))

        # æ›²ç‡æ­£åˆ™åŒ–
        grad_x, grad_y = np.gradient(v)
        grad_mag = np.sqrt(grad_x**2 + grad_y**2) + 1e-10
        n_x = grad_x / grad_mag
        n_y = grad_y / grad_mag
        div_n = np.gradient(n_x, axis=1) + np.gradient(n_y, axis=0)
        curvature_penalty = 0.1 * div_n

        v = v - 0.01 * curvature_penalty

        if np.linalg.norm(v - v_old) < 1e-4:
            break

    # 4. é˜ˆå€¼åŒ–
    segmentation = v > np.mean(v)

    return segmentation

def compute_curvature(phi):
    """
    è®¡ç®—æ°´å¹³é›†å‡½æ•°phiçš„æ›²ç‡
    """
    # æ¢¯åº¦
    phi_x, phi_y = np.gradient(phi)

    # æ¢¯åº¦æ¨¡
    grad_mag = np.sqrt(phi_x**2 + phi_y**2 + 1e-10)

    # å•ä½æ³•å‘é‡
    nx = phi_x / grad_mag
    ny = phi_y / grad_mag

    # æ›²ç‡ = æ³•å‘é‡æ•£åº¦
    nxx, _ = np.gradient(nx)
    _, nyy = np.gradient(ny)
    curvature = nxx + nyy

    return curvature
```

### è®¡ç®—å¤æ‚åº¦

| é¡¹ç›® | å¤æ‚åº¦ | è¯´æ˜ |
|------|--------|------|
| æ–¹å‘æ€§æ»¤æ³¢ | O(DÂ·LÂ²) | Dä¸ªæ–¹å‘ï¼ŒLæ˜¯æ»¤æ³¢å™¨å¤§å° |
| æ¡†æ¶å˜æ¢ | O(DÂ·N log N) | Dæ¬¡å·ç§¯ |
| v-å­é—®é¢˜ | O(DÂ·N log N) | FFTæ±‚è§£ |
| æ›²ç‡è®¡ç®— | O(N) | æ¢¯åº¦+æ•£åº¦ |
| æ¯æ¬¡è¿­ä»£ | O(DÂ·N log N) | ä¸»å¯¼é¡¹ |
| **æ€»å¤æ‚åº¦** | **O(DÂ·N log NÂ·iter)** | çº¿æ€§å¤æ‚åº¦ |

---

## ğŸ“š å…³é”®å‚è€ƒæ–‡çŒ®

1. Cai, X., et al. (2013). Framelet-based segmentation of high-resolution images. JSA.
2. Frangi, A.F., et al. (1998). Multiscale vessel enhancement filtering. MICCAI.
3. Chan, T.F., et al. (2010). Euler's elastica and curvature-based inpainting. SIAM JIMS.

---

## ğŸ’» ä»£ç å®ç°è¦ç‚¹

### åˆ›å»ºæ–¹å‘æ€§æ»¤æ³¢å™¨

```python
def create_directional_filter(angle_degrees, size=15):
    """
    åˆ›å»ºæ–¹å‘æ€§æ»¤æ³¢å™¨

    å‚æ•°:
        angle_degrees: æ–¹å‘è§’åº¦ï¼ˆåº¦ï¼‰
        size: æ»¤æ³¢å™¨å¤§å°
    """
    # åˆ›å»ºçº¿çŠ¶æ»¤æ³¢å™¨
    x = np.linspace(-1, 1, size)
    y = np.linspace(-1, 1, size)
    X, Y = np.meshgrid(x, y)

    # æ—‹è½¬
    theta = np.radians(angle_degrees)
    X_rot = X * np.cos(theta) + Y * np.sin(theta)
    Y_rot = -X * np.sin(theta) + Y * np.cos(theta)

    # é«˜æ–¯çº¿çŠ¶æ»¤æ³¢å™¨
    sigma_x = 0.2  # æ²¿æ–¹å‘å¹³æ»‘
    sigma_y = 2.0  # å‚ç›´æ–¹å‘æ‰©å±•

    filter_kernel = np.exp(-(X_rot**2 / (2*sigma_x**2) +
                              Y_rot**2 / (2*sigma_y**2)))

    # å½’ä¸€åŒ–
    filter_kernel = filter_kernel / np.sum(np.abs(filter_kernel))

    return filter_kernel

# åˆ›å»º8ä¸ªæ–¹å‘çš„æ»¤æ³¢å™¨ç»„
D = 8  # æ–¹å‘æ•°
directional_filters = [create_directional_filter(k * 180/D)
                       for k in range(D)]
```

### æ›²ç‡æ­£åˆ™é¡¹

```python
def curvature_regularization_term(phi, a=1.0, b=1.0):
    """
    è®¡ç®—æ›²ç‡æ­£åˆ™é¡¹
    """
    # æ¢¯åº¦
    phi_x, phi_y = np.gradient(phi)
    grad_mag = np.sqrt(phi_x**2 + phi_y**2 + 1e-10)

    # é•¿åº¦é¡¹
    length_term = a * np.sum(grad_mag)

    # æ›²ç‡é¡¹
    curvature = compute_curvature(phi)
    curvature_term = b * np.sum(curvature**2 * grad_mag)

    return length_term + curvature_term
```

---

## ğŸŒŸ åº”ç”¨ä¸å½±å“

### åº”ç”¨åœºæ™¯

1. **åŒ»å­¦è¡€ç®¡åˆ†å‰²**
   - è§†ç½‘è†œè¡€ç®¡ï¼šDRIVEã€STAREæ•°æ®é›†
   - è„‘è¡€ç®¡ï¼šMRAå›¾åƒ
   - å† çŠ¶åŠ¨è„‰ï¼šCTAå›¾åƒ

2. **é“è·¯æå–**
   - é«˜åˆ†è¾¨ç‡é¥æ„Ÿå›¾åƒ
   - åŸå¸‚è§„åˆ’
   - åœ°å›¾æ›´æ–°

3. **å·¥ä¸šç®¡é“æ£€æµ‹**
   - ç®¡é“è£‚ç¼æ£€æµ‹
   - è´¨é‡æ§åˆ¶

### å•†ä¸šä»·å€¼

- **åŒ»ç–—è®¾å¤‡**ï¼šOCTè®¾å¤‡å‚å•†é›†æˆ
- **é¥æ„Ÿåˆ†æ**ï¼šåœ°å›¾æœåŠ¡å…¬å¸
- **å·¥ä¸šæ£€æµ‹**ï¼šæ— æŸæ£€æµ‹è§£å†³æ–¹æ¡ˆ

---

## â“ æœªè§£é—®é¢˜ä¸å±•æœ›

### å±€é™æ€§

1. **è®¡ç®—æˆæœ¬**ï¼šDä¸ªæ–¹å‘å¢åŠ è®¡ç®—é‡
2. **å‚æ•°æ•æ„Ÿ**ï¼šÎ»ã€Î¼ã€Î½éœ€è¦è°ƒæ•´
3. **å¤æ‚åˆ†å‰**ï¼šé«˜åˆ†å‰ç»“æ„å¤„ç†å›°éš¾

### æœªæ¥æ–¹å‘

1. **è‡ªé€‚åº”æ–¹å‘æ•°**ï¼šæ ¹æ®å›¾åƒå†…å®¹è‡ªåŠ¨é€‰æ‹©D
2. **æ·±åº¦å­¦ä¹ ç»“åˆ**ï¼šå­¦ä¹ æ¡†æ¶ç³»æ•°
3. **GPUåŠ é€Ÿ**ï¼šå®æ—¶å¤„ç†

---

## ğŸ“ åˆ†æç¬”è®°

```
æ ¸å¿ƒæ´å¯Ÿï¼š

1. æ–¹å‘æ€§åˆ†æçš„æ ¸å¿ƒæ€æƒ³ï¼š
   - æ ‡å‡†å°æ³¢ï¼š3ä¸ªå›ºå®šæ–¹å‘
   - æ–¹å‘æ€§æ¡†æ¶ï¼šDä¸ªå¯é…ç½®æ–¹å‘
   - åº”ç”¨ï¼šç®¡çŠ¶ç»“æ„éœ€è¦å¤šæ–¹å‘æ£€æµ‹

2. æ›²ç‡çº¦æŸçš„é‡è¦æ€§ï¼š
   - TVåªæƒ©ç½šæ¢¯åº¦å¤§å°ï¼ˆè¾¹ç•Œé•¿åº¦ï¼‰
   - æ›²ç‡æƒ©ç½šè¾¹ç•Œå˜åŒ–ï¼ˆå¹³æ»‘æ€§ï¼‰
   - Elastica: aÂ·é•¿åº¦ + bÂ·æ›²ç‡Â²

3. ä¸åœ†å½¢æ£€æµ‹çš„è”ç³»ï¼š
   - ç®¡çŠ¶ï¼šç»†é•¿ã€æ›²ç‡å°
   - åœ†å½¢ï¼šç´§å‡‘ã€æ›²ç‡æ’å®š
   - å¯å€Ÿé‰´ï¼šç¯å½¢æ»¤æ³¢å™¨ã€æ›²ç‡çº¦æŸ

4. å·¥ç¨‹å®ç°è¦ç‚¹ï¼š
   - FFTåŠ é€Ÿv-å­é—®é¢˜
   - æ¢¯åº¦/æ•£åº¦è®¡ç®—æ›²ç‡
   - å¤šå°ºåº¦å¤„ç†ä¸åŒå®½åº¦
```

---

## ç»¼åˆè¯„åˆ†

| ç»´åº¦ | è¯„åˆ† | è¯´æ˜ |
|------|------|------|
| ç†è®ºæ·±åº¦ | â˜…â˜…â˜…â˜…â˜† | æ–¹å‘æ€§æ¡†æ¶ç†è®ºæ‰å® |
| æ–¹æ³•åˆ›æ–° | â˜…â˜…â˜…â˜…â˜…â˜† | ç®¡çŠ¶ç»“æ„ä¸“ç”¨ |
| å®ç°éš¾åº¦ | â˜…â˜…â˜…â˜†â˜† | ä¸­ç­‰éš¾åº¦ |
| åº”ç”¨ä»·å€¼ | â˜…â˜…â˜…â˜…â˜…â˜† | åŒ»å­¦/é¥æ„Ÿä»·å€¼é«˜ |

**æ€»åˆ†ï¼šâ˜…â˜…â˜…â˜…â˜† (4.2/5.0)**

---

*æœ¬ç¬”è®°ç”±5-Agentè¾©è®ºåˆ†æç³»ç»Ÿç”Ÿæˆï¼Œç»“åˆè¯¦ç»†ç‰ˆç¬”è®°è¿›è¡Œæ·±å…¥åˆ†æã€‚*

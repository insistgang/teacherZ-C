# ç¬¬å…«è®²ï¼šSLaTä¸‰é˜¶æ®µæ–¹æ³•

## SLaT: Smoothing, Lifting, and Thresholding

---

### ğŸ“‹ æœ¬è®²å¤§çº²

1. SLaTæ–¹æ³•åŠ¨æœº
2. å‡ç»´(Lifting)æ¦‚å¿µ
3. ä¸‰é˜¶æ®µæ¡†æ¶
4. ç†è®ºåˆ†æ
5. åº”ç”¨å®ä¾‹

---

### 8.1 ä»SaTåˆ°SLaT

#### SaTçš„å±€é™

ä¸¤é˜¶æ®µSaTæ–¹æ³•åœ¨ä»¥ä¸‹æƒ…å†µå¤±æ•ˆï¼š
- å¤šç›¸åˆ†å‰²ï¼ˆè¶…è¿‡ä¸¤ç›¸ï¼‰
- ç°åº¦é‡å çš„åŒºåŸŸ
- å¤æ‚æ‹“æ‰‘ç»“æ„

#### SLaTçš„è§£å†³æ–¹æ¡ˆ

å¼•å…¥**å‡ç»´(Lifting)**æ“ä½œï¼š
$$\textbf{SLaT: } \underbrace{\text{Smoothing}}_{\text{é˜¶æ®µ1}} \rightarrow \underbrace{\text{Lifting}}_{\text{é˜¶æ®µ2}} \rightarrow \underbrace{\text{Thresholding}}_{\text{é˜¶æ®µ3}}$$

---

### 8.2 å‡ç»´(Lifting)çš„æ¦‚å¿µ

#### åŸºæœ¬æ€æƒ³

å°†æ ‡é‡å€¼"æå‡"åˆ°æ›´é«˜ç»´ç©ºé—´ï¼š
$$u: \Omega \rightarrow \mathbb{R} \quad \Rightarrow \quad v: \Omega \rightarrow \mathbb{R}^K$$

#### å¤šç›¸æŒ‡ç¤ºå‡½æ•°

å¯¹äº$K$ç›¸åˆ†å‰²ï¼Œå®šä¹‰æŒ‡ç¤ºå‡½æ•°ï¼š
$$v_k(x) = \begin{cases} 1, & x \in \Omega_k \\ 0, & \text{otherwise} \end{cases}$$

æ»¡è¶³çº¦æŸï¼š
$$\sum_{k=1}^K v_k(x) = 1, \quad v_k(x) \in \{0, 1\}$$

---

### 8.3 æ¾å¼›å‡ç»´

#### è¿ç»­æ¾å¼›

å°†ç¦»æ•£çº¦æŸæ¾å¼›ä¸ºè¿ç»­çº¦æŸï¼š
$$v_k(x) \in [0, 1], \quad \sum_k v_k(x) = 1$$

#### ç®€å•å‡ç»´è§„åˆ™

å¯¹äºä¸¤ç›¸åˆ†å‰²ï¼Œä½¿ç”¨é˜ˆå€¼å‡ç»´ï¼š
$$v_1 = \sigma(u - T), \quad v_2 = 1 - v_1$$

å…¶ä¸­ $\sigma$ æ˜¯sigmoidå‡½æ•°

---

### 8.4 SLaTæ¡†æ¶è¯¦è§£

#### é˜¶æ®µ1ï¼šå¹³æ»‘

$$\min_u \frac{1}{2}\|u - f\|_2^2 + \lambda \Phi(u)$$

å¾—åˆ°å¹³æ»‘åçš„å›¾åƒ $u$

#### é˜¶æ®µ2ï¼šå‡ç»´

$$v_k(x) = \frac{e^{-\beta (u(x) - c_k)^2}}{\sum_j e^{-\beta (u(x) - c_j)^2}}$$

è¿™æ˜¯softmaxå½¢å¼ï¼Œ$\beta$ æ§åˆ¶å°–é”ç¨‹åº¦

#### é˜¶æ®µ3ï¼šé˜ˆå€¼åŒ–

$$\Omega_k = \{x : v_k(x) = \max_j v_j(x)\}$$

---

### 8.5 ç†è®ºåŸºç¡€

#### ä¸å‡¸æ¾å¼›çš„å…³ç³»

SLaTä¸­çš„å‡ç»´ä¸**å‡¸æ¾å¼›(Convex Relaxation)**ç›¸å…³ï¼š
$$\min_{v \in \Delta} \int_\Omega \sum_k (f - c_k)^2 v_k + \lambda \|\nabla v\|$$

å…¶ä¸­ $\Delta = \{v : v_k \geq 0, \sum_k v_k = 1\}$

#### ä¸PCMSçš„å…³ç³»

$$\text{SLaT} \approx \text{Convex PCMS}$$

---

### 8.6 å‡ç»´æ–¹å¼æ¯”è¾ƒ

| å‡ç»´æ–¹å¼ | å…¬å¼ | ç‰¹ç‚¹ |
|----------|------|------|
| ç¡¬é˜ˆå€¼ | $v_k = \mathbf{1}_{k=\arg\min|u-c_k|}$ | ç¦»æ•£ï¼Œä¸å¯å¾® |
| è½¯é˜ˆå€¼ | $v_k = \text{softmax}(-\beta(u-c_k)^2)$ | è¿ç»­ï¼Œå¯å¾® |
| è·ç¦»å˜æ¢ | $v_k = 1 - \text{dist}(u, c_k)$ | ä¿æŒè·ç¦»ä¿¡æ¯ |

**åŠ¨ç”»å»ºè®®**ï¼šå±•ç¤ºä¸åŒå‡ç»´æ–¹å¼åœ¨ä¸€ç»´æ•°æ®ä¸Šçš„æ•ˆæœ

---

### 8.7 ç®—æ³•æµç¨‹

#### å®Œæ•´SLaTç®—æ³•

```
è¾“å…¥: å›¾åƒ f, ç›¸æ•° K, å‚æ•° Î», Î²
è¾“å‡º: åˆ†å‰²ç»“æœ {Î©_k}

é˜¶æ®µ1 (å¹³æ»‘):
  æ±‚è§£ min_u Â½â€–u-fâ€–Â² + Î»Î¦(u)
  
é˜¶æ®µ2 (å‡ç»´):
  åˆå§‹åŒ–ç±»ä¸­å¿ƒ {c_k} (å¦‚K-means)
  è®¡ç®— v_k(x) = softmax(-Î²(u(x)-c_k)Â²)
  
é˜¶æ®µ3 (é˜ˆå€¼åŒ–):
  Î©_k = {x : k = argmax_j v_j(x)}

è¿”å› {Î©_k}
```

---

### 8.8 å¤šç›¸åˆ†å‰²ç¤ºä¾‹

#### ä¸‰ç›¸åˆ†å‰²

```
åŸå§‹å›¾åƒ f
    â”‚
    â–¼
[å¹³æ»‘] â†’ u (å¹³æ»‘åçš„ç°åº¦å›¾åƒ)
    â”‚
    â–¼
[å‡ç»´] â†’ v = (v_1, v_2, v_3) âˆˆ [0,1]Â³
    â”‚
    â–¼
[é˜ˆå€¼] â†’ (Î©_1, Î©_2, Î©_3)
```

**åŠ¨ç”»å»ºè®®**ï¼šå±•ç¤ºä¸‰ç›¸åˆ†å‰²çš„ä¸‰ä¸ªé˜¶æ®µè¾“å‡º

---

### 8.9 ä¸Chan-Veseå¤šç›¸æ¨¡å‹çš„æ¯”è¾ƒ

#### Chan-Veseå¤šç›¸

ä½¿ç”¨å¤šä¸ªæ°´å¹³é›†å‡½æ•° $\phi_1, \ldots, \phi_m$ï¼š
$$2^m \text{ ä¸ªåŒºåŸŸ}$$

#### SLaTå¤šç›¸

ç›´æ¥å¤„ç†$K$ç›¸ï¼š
$$v \in \mathbb{R}^K, \quad K \text{ ä¸ªåŒºåŸŸ}$$

#### æ¯”è¾ƒ

| æ–¹é¢ | Chan-Veseå¤šç›¸ | SLaT |
|------|--------------|------|
| å˜é‡æ•° | $m$ ä¸ªæ°´å¹³é›† | $K$ ä¸ªæŒ‡ç¤ºå‡½æ•° |
| åŒºåŸŸæ•° | $2^m$ | $K$ |
| è®¡ç®—å¤æ‚åº¦ | é«˜ | ä¸­ |
| å®ç°éš¾åº¦ | é«˜ | ä¸­ |

---

### 8.10 å‚æ•°é€‰æ‹©

#### å¹³æ»‘å‚æ•° Î»

- **è¿‡å¤§**ï¼šè¿‡åº¦å¹³æ»‘ï¼Œä¸¢å¤±ç»†èŠ‚
- **è¿‡å°**ï¼šå™ªå£°æ®‹ç•™ï¼Œåˆ†å‰²ç¢ç‰‡åŒ–

#### å‡ç»´å‚æ•° Î²

- **è¿‡å¤§**ï¼šå‡ç»´æ¥è¿‘ç¡¬åˆ†ç±»ï¼Œå¯èƒ½ä¸ç¨³å®š
- **è¿‡å°**ï¼šè¾¹ç•Œæ¨¡ç³Šï¼Œåˆ†ç±»ä¸ç¡®å®š

#### ç»éªŒå…¬å¼

$$\lambda \sim \sigma_{noise}, \quad \beta \sim \frac{1}{\Delta c^2}$$

å…¶ä¸­ $\Delta c$ æ˜¯ç±»ä¸­å¿ƒé—´è·

---

### 8.11 åº”ç”¨ï¼šåŒ»å­¦å›¾åƒåˆ†å‰²

#### è„‘éƒ¨MRIåˆ†å‰²

```
ä¸‰ç›¸åˆ†å‰²ï¼š
- ç™½è´¨ (White Matter)
- ç°è´¨ (Gray Matter)
- è„‘è„Šæ¶² (CSF)
```

#### ä¼˜åŠ¿

- æ— éœ€äººå·¥åˆå§‹åŒ–
- è‡ªåŠ¨ç¡®å®šç±»æ•°
- è®¡ç®—æ•ˆç‡é«˜

---

### 8.12 SLaTçš„å˜ä½“

#### è¿­ä»£SLaT

```
repeat
  1. å¹³æ»‘å½“å‰å›¾åƒ
  2. å‡ç»´å¹¶æ›´æ–°ç±»ä¸­å¿ƒ
  3. é˜ˆå€¼åŒ–
until æ”¶æ•›
```

#### è‡ªé€‚åº”SLaT

æ ¹æ®å±€éƒ¨ç‰¹å¾è°ƒæ•´å‚æ•°ï¼š
$$\lambda(x) = \lambda_0 \cdot g(|\nabla f(x)|)$$

---

### ğŸ“Š æœ¬è®²æ€»ç»“

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           SLaTä¸‰é˜¶æ®µæ¡†æ¶                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚   f â”€â”€[å¹³æ»‘]â”€â”€â†’ u â”€â”€[å‡ç»´]â”€â”€â†’ v â”€â”€[é˜ˆå€¼]â”€â”€â†’ Î£  â”‚
â”‚       ROF/æ¡†æ¶    softmax      argmax          â”‚
â”‚                                                 â”‚
â”‚   å‡ç»´çš„ä½œç”¨ï¼š                                   â”‚
â”‚   â€¢ å°†æ ‡é‡æå‡åˆ°å‘é‡                             â”‚
â”‚   â€¢ æ”¯æŒå¤šç›¸åˆ†å‰²                                 â”‚
â”‚   â€¢ å»ºç«‹ä¸å‡¸æ¾å¼›çš„è”ç³»                           â”‚
â”‚                                                 â”‚
â”‚   ä¼˜åŠ¿ï¼š                                        â”‚
â”‚   â€¢ å¤šç›¸åˆ†å‰²èƒ½åŠ›å¼º                               â”‚
â”‚   â€¢ æ— éœ€æ°´å¹³é›†                                   â”‚
â”‚   â€¢ è®¡ç®—é«˜æ•ˆ                                     â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### ğŸ“š è¯¾åä½œä¸š

1. **å®ç°é¢˜**ï¼šå®ç°ä¸‰ç›¸SLaTåˆ†å‰²ç®—æ³•

2. **åˆ†æé¢˜**ï¼šåˆ†æÎ²å‚æ•°å¯¹å‡ç»´ç»“æœçš„å½±å“

3. **æ¯”è¾ƒé¢˜**ï¼šæ¯”è¾ƒSLaTä¸K-meansåœ¨å¤šç›¸åˆ†å‰²ä¸­çš„è¡¨ç°

4. **åº”ç”¨é¢˜**ï¼šå°†SLaTåº”ç”¨äºè„‘éƒ¨MRIä¸‰ç›¸åˆ†å‰²

---

### ğŸ“– æ‰©å±•é˜…è¯»

1. **Caiç›¸å…³è®ºæ–‡**ï¼š
   - Cai et al., "SLaT: Smoothing, Lifting and Thresholding for image segmentation"
   - Cai, "Three-stage segmentation methods"

2. **å‡¸æ¾å¼›æ–¹æ³•**ï¼š
   - Chambolle & Pock, "A first-order primal-dual algorithm for convex problems"
   - Zach et al., "A duality based approach for realtime TV-L1 optical flow"

---

### ğŸ“– å‚è€ƒæ–‡çŒ®

1. Cai, X., et al. (2014). SLaT: Smoothing, Lifting and Thresholding for image segmentation. *SIAM J. Imaging Sci.*

2. Chambolle, A. & Pock, T. (2011). A first-order primal-dual algorithm for convex problems. *J. Math. Imaging Vis.*

3. Pock, T., et al. (2009). A convex formulation of continuous multi-label problems. *ECCV*.

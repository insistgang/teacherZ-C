flowchart TB
    subgraph Stage1["Stage 1: ROF平滑"]
        A[输入图像 I] --> B[ROF去噪]
        B --> C[平滑图像 Is]
    end
    
    subgraph Stage2["Stage 2: 特征升维"]
        C --> D[RGB空间]
        C --> E[Lab空间]
        D --> F[6维特征<br/>RGB+Lab]
        E --> F
    end
    
    subgraph Stage3["Stage 3: 自适应阈值"]
        F --> G[K-means聚类<br/>K=2]
        G --> H[聚类中心]
        H --> I[自适应阈值<br/>T = c₁ + c₂/2]
        I --> J[二值分割<br/>S]
    end
    
    style A fill:#e3f2fd
    style J fill:#c8e6c9
    style Stage1 fill:#fafafa
    style Stage2 fill:#fafafa
    style Stage3 fill:#fafafa
